syntax = "proto3";

option go_package = "github.com/bqxtt/book_online/user/pkg/sdk/userpb";

import "userpb/user.proto";
import "base/request_response.proto";

package sdk;

service UserService {
  rpc Register(RegisterRequest) returns (RegisterReply) {}
  rpc Login(LoginRequest) returns (LoginReply) {};
  rpc GetInfo(GetInfoRequest) returns (GetInfoReply) {};
  rpc UpdateInfo(UpdateInfoRequest) returns (UpdateInfoReply) {};
}

message RegisterRequest {
  UserAuth user_auth = 1;
}

message RegisterReply {
  base.BaseReply reply = 1;
  User user = 2;
}

message LoginRequest {
  UserAuth user_auth = 1;
}

message LoginReply {
  base.BaseReply reply = 1;
}

message GetInfoRequest {
  int64 user_id = 1;
}

message GetInfoReply {
  base.BaseReply reply = 1;
  User user = 2;
}

message UpdateInfoRequest {
  User user_info = 1;
}

message UpdateInfoReply {
  base.BaseReply reply = 1;
  User result_user_info = 2;
}
